"""
«Играл с кредитами – проиграл»
m = [s * p * (1 + p)^n] / [(1 + p)^n - 1]
m – ежемесячная выплата
i – годовая процентная ставка
p – месячная процентная ставка
s – сумма займа
n – количество месяцев, на
которые взят кредит
Пользователь вводит с клавиатуры i, s и n, программа
должна рассчитать размер ежемесячной выплаты по
формуле, а также найти, сколько пользователь всего
заплатит банку и сколько составит переплата. Сделать
ввод/вывод данных красивым интерактивом
"""

import math


print("""
\033[1m
┌──────────────────────────────────────────────┐
│         КАЛЬКУЛЯТОР КРЕДИТНЫХ ПЛАТЕЖЕЙ       │
└──────────────────────────────────────────────┘
""")

 # Ввод данных от пользователя
i = float(input("|Введите годовую процентную ставку (%): "))
s = float(input("|Введите сумму займа: "))
n = int(input("|Введите срок кредита в месяцах: "))

# Промежуточные вычисления
p = i / 100 / 12  # Перевод годовой ставки в месячную (в долях)
base = 1 + p  # Основание для степени
exponent = n  # Показатель степени
power = math.pow(base, exponent)  # (1 + p)^n

# Проверка нулевой процентной ставки
if p == 0:
    m = s / n
    total_paid = s
    overpayment = 0
else:
     # Вычисление ежемесячного платежа
    numerator = s * p * power  # Числитель формулы
    denominator = power - 1  # Знаменатель формулы
    m = numerator / denominator  # Ежемесячный платеж

    # Общие выплаты и переплата
    total_paid = m * n
    overpayment = total_paid - s


print(f"""
┌────────────────────────────────────────────────┐
│            РЕЗУЛЬТАТЫ РАСЧЕТА КРЕДИТА          │
├────────────────────────────────────────────────┤
│                                                │ 
│ ИТОГОВЫЕ ЗНАЧЕНИЯ:                             │                          
│ • Ежемесячный платеж (m): {f"{m:,.2f} у.е." .rjust(21)}│
│ • Общая сумма выплат:     {f"{total_paid:,.2f} у.е." .rjust(21)}│      
│ • Переплата по кредиту:   {f"{overpayment:,.2f} у.е." .rjust(21)}│     
│                                                │
│ ПРОМЕЖУТОЧНЫЕ ЗНАЧЕНИЯ:                        │
│ • Годовая ставка (i):     {f"{i:,.2f} у.е." .rjust(21)}│      
│ • Сумма займа (s):        {f"{s:,.2f} у.е."  .rjust(21)}│   
│ • Срок кредита (n):       {f"{n:,.2f} мес." .rjust(21)}│   
│ • Месячная ставка (p):    {f"{p:,.2f} у.е."   .rjust(21)}│  
│                                                │ 
└────────────────────────────────────────────────┘
""")
